# comfyui-NDI
real-time input output node for comfyui by ndi.

Leveraging the powerful linking capabilities of NDI, you can access NDI video stream frames and send images generated by the model to NDI video streams.

For example, you can use your web camera as the input for your model, or capture the screen of a Painting software (such as PS) as input, and so on. 

If you have any requirements, please let me know.

have fun!
# about Ndi
https://ndi.video/

![image](https://github.com/ningxiaoxiao/comfyui-NDI/assets/18553762/7221b5b0-c342-4061-9838-1e2af1808bf6)

# how to use
## Download and install ndi tools

https://ndi.video/tools/ndi-core-suite/

## Installation

Download the repository and unpack into the `custom_nodes` folder in the ComfyUI installation directory.

Or clone via GIT, starting from ComfyUI installation directory:
```
cd custom_nodes
git clone https://github.com/ningxiaoxiao/comfyui-NDI.git
```
You also need to install `ndi-python`
```
pip install ndi-python
```

> [!WARNING]
> my python version is `3.10.9`,
> If you are using `ComfyUI_windows_portable`, you should use `ComfyUI_windows_portable\python_embeded\python.exe -m pip install ndi-python`

Restart ComfyUI and the nodes are functional.

## add node
Right-click on the NDI group to find options for receiving and sending images.

## link ndi input
1. You can use the `Screen Capture` from NDI tools to turn your camera feed into an NDI video resource.

1. Add an NDI receive image node in ComfyUI and select your webcam node in the node settings.

1. If you cannot find your NDI resources in the node, you should click the `update ndi list` button in the menu.


   ![image](https://github.com/ningxiaoxiao/comfyui-NDI/assets/18553762/70e4748f-cd74-486d-8149-e722cac67c27)

 

## look ndi output
If you want to see the real-time output of the model, just add an NDI send image node and connect it to the image output. You can then view an NDI resource named `ComfyUI`.
You can use a software called `Studio Monitor` from NDI tools to check the resources available on the current network.

# Example
## Screen Capture
1. Start the `Screen Capture` in NDI Tools.

1. Set the region of interest.

![image](https://github.com/ningxiaoxiao/comfyui-NDI/assets/18553762/c146f1f7-7a63-4a0a-927e-63f981b7c873)

## webcam input
1. Start the `Screen Capture` in NDI Tools.

1. In the "Webcam Video Source," locate your webcam.

![image](https://github.com/ningxiaoxiao/comfyui-NDI/assets/18553762/930bb416-775f-4a74-80b5-ecf1b70249e7)

3. In the ndi reciveimage ComfyUI node, you can now find the NDI source named "your-pc-name(your-webcam-name)."

