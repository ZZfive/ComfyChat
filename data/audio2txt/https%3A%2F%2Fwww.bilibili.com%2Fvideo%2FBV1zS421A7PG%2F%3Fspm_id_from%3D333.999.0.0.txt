前幾天OpenAI新發布的視頻生成模型SORA刷了全世界的屁股60秒長視頻真實的物理引擎它有多厲害就不追溯了我也十分期待雖然短期內我們可能都還用不上它發布以後也大概留以收費但它標誌著一件事情AI已進入視頻世代了實際上AI視頻生成已經有很長一段時間的技術積累了
除了這次出圈的 Sora 以外我們還有很多開源且免費的視頻生成工具是可以用來實現你的各種起司妙想的這其中有一個基於 StableDivision 以話而來在多幾個月裡十分歡迎直到現在還在持續進化並且催生了不少創新應用的 AI 動畫生成項目是我覺得你一定要掌握的Animate DIV
在ROG幻的Air系列笔记本电脑的支持下我完成了这期教程的创作这次新上市的幻14 Air和幻16 Air作为幻系列全能本的新产品定位便是Pro及Air兼顾了性能与轻薄的专业笔记本电脑一台至薄1.49厘米至轻1.85千克的轻薄笔记本怎么能成为AI玩家手里的生产力工具呢?别急让我们先进个教程
Animative是一個由香港中文大學斯坦普大學和上海人工智能實驗室的研究人員們共同開發出來的文本刀動畫的擴散模型AI能做動畫這一點大家肯定早就知道了但在以前我們製作AI動畫最主要的思路無論是Movie to Movie以來的早期應用還是後來加入了Temporal Kids、Episodes等工具的進階工作流
本質上都是將連貫的視頻拆成一個個單獨的針再利用擴散模型重複這種逐針轉彎的動態內容生成方式是有許多缺陷的比如閃爍炎中耗時也比較漫長但這些單獨的針裡面所包含的元素運動也是有一定的規律和前後關聯的所以Animative針對視頻片段做訓練讓AI學習不同類型視頻做運動的方式訓練出了一個運動模塊讓我們可以把一系列運動的針
所以它生存的内容比以往各种方法都要流畅自然而且因为这个模块是独立于基础模型的所以它可以被附加到任何一个大模型上参与生成换句话说就是让你库存里的每一个SD模型都进化成一个视频模型正因如此Animative受到了大家的广泛欢迎并且催生出了一系列丰富的创作应用形式Animative最早只能通过人声脉码进行推理但后来有许多开发者为它制作了更容易使用的载体比如web UI里的扩展插件config UI里的功能接点和工作流
我們這期視頻主要會利用大部分人更熟悉的Web UI擴展來進行示範它目前可以實現的功能也有很多系統列舉了一下包括文字生成視頻單獨生成視頻視頻轉視頻還可以接觸各種手段精準控制視頻的運鏡縮放乃至製作這種神奇的變換演化效果
那它有配置上的門檻嗎?有,但不算高在無優化的情況下選用WebUI裡的Animative擴展可能需要12G的顯存來進行繪製但對於N卡用戶而言開啟Exformers後能顯著優化顯存佔用根據插件作者的測試最低只需要5G就可以跑動但根據我自己的使用體驗有8G左右的顯存會比較安全如果你的顯存不夠用可以調節一些以後我們會提到的參數來優化體驗那這個Animative到底要怎麼用呢?
我們從 WebUI 開始把它的基本運作方式梳理一遍你可以通過列表搜索或網址安裝在 WebUI 裡裝上這個 Animative 擴展順帶一提為了確保能充分調用裡面的所有功能你需要同時安裝另外兩個擴展一個是 ControlNet 基本是標配了另一個則是 Deform之前非常火的順息全宇宙視頻就是用它做出來的
它的具體用法我們有機會再聊這裡主要是因為AD擴展的開發者寫了一個要用它來插針的使用功能我們一會兒會介紹到同時Animative的運作需要一系列運動模塊和功能性樓軟你同樣可以在簡介裡查到它們的下載方式最核心的運動模塊至少要下載一個我推薦你下載這個最新的V3版本模型下載下來以後需要將它放置在這個擴展文件夾的Models裡方便後續使用
安裝完擴展以後重啟WebUI我會建議你在WebUI的設置裡針對一系列優化選項進行改動第一是Animative這個插件的設置選項裡確保勾選兩個優化項下面一起用了Exformers第二則是WebUI自帶的優化設置選項裡勾選這個補齊提示詞到相同長度所有這些準備工作都完畢了以後就可以開始體驗它的樂趣了我們先從最簡單的一種操作開始實踐就是使用提示詞直接生成一個動畫我們點開文聲圖的介面你會在WebUI的生成介面下方看到一個可折點
的Animative選框把它點開我們需要調節的參數都在裡面了去生成一張動圖或者一個視頻之前你可以先按照日常文聲圖的步驟摸索模型、參數、採樣器能各個環節的設置這裡面只有一個需要注意的點就是在寫提示詞的時候正副詞都盡量不要超過限定的75個詞否則可能會由於SD的繪製機制導致前後的動畫不一致當你得到了一張接近你需要的效果的靜態圖片以後就可以固定包括隨機種子在內的各項參數啦但注意因為繪製邏輯的原因
最終生成的動圖的模樣並不會等同於這張圖片因而這個階段的繪製效果只能作為一個參考如果你非常喜歡這張圖片並希望讓它動起來那可以把它保存下來並使用一會兒我們提到的圖生視頻的流程來進行操作展開Animative並勾選啟用作者已經非常貼心地為你準備好了一套默認的繪製參數如果你想生成一個長度為2秒鐘的動畫
就只需要選中我們剛剛下載並放到對螢幕錄裏的那個動畫模塊然後在總幀數這裡輸入一個16右邊這裡會有一系列保存格式的選項如果想快速預覽效果推薦保存為GIF動圖格式並把右邊的PNG取消勾選否則它會在生存的同時將每一幀的圖片也單獨保存一份佔用空間也會塗滿腦出進度
OK 這就設置完了這麼簡單嗎讓我們回到上面點擊一下生成如果設置一切正常不一會它就會開始顯示繪製的進度你可以通過實時預覽的所有圖看到它會按照剛才我們提到的運動推理的方法為你生成這樣一系列連續且相似的動畫幀如果顯存充足它所需的時間會接近你的WebUI連續繪製完16張圖片所需的時間生成完畢擴展就會把它們拼合在一起就形成了一張像這樣的動畫動圖了是不是確實挺簡單的
如果你已經做出了一個和它一樣的動圖來就在公平上敲個6鼓勵一下自己吧但我猜你肯定不會滿足於簡單的把它做出來想完全掌控Animative的奧秘嗎?那不妨花上一點時間和我一起研究一下這些參數吧在生成動畫的過程中發揮核心作用的就是這個運動模塊Animative的開發者們針對SD1.5一共訓練過三代模型分別用V1、V2、V3來表示對應的模型文件你都可以在作者的Hungface主頁找到它們的效果有什麼差別?
用同一組參數和種子下的生成效果對比來回答吧你覺得哪個版本的動態效果是你最喜歡呢?客觀來看,V3的模型肯定是訓練的最先進的運動會更流暢、自然而在使用老版本時偶爾你會看到像這樣影響觀感的視頻水平因此我會推薦你用V3當然以後作者也完全有可能推出更先進的模型也是優先挑新版本用不過AI生成還是具有一定隨機性的所以有時候你可能會覺得V2乃至V1版本想出的結果更符合你的口味用
也没关系另外有一小部分额外的附加组件例如一会儿我们会提到的Motion LoRa和Domain Adapter是只能和特定版本搭配使用的当你选定了一个运动模块以后最影响绘制效果的参数是这个上下纹单批数量绘制时你也看到了运动模块的作用原理是一次性将多张连续的画面输入进去绘制这个一次性输入的画面多少
就是由上下文單批數量決定的它會非常顯著地影響你動畫的流暢程度因為只有同一批次裡的運動關聯是最穩固的在這裡你會很清晰地看到單批數量16和8之間動畫的前後連貫性有顯著的區別但這個參數肯定不是越大越好的當上下文長度超過了一定幀數時在這個案例裡會導致生成的圖像背景過於單一而缺乏變化
而Animative的運動模型是基於16幀的士兵長度去訓練的因此這個數不超過16幀是最好的另外一個影響你所選擇的因素是顯存和繪圖的單P數量一樣同時畫多張圖需要佔用更高的顯存如果你顯存比較低玩起來吃力將單P數量從公認的16削減到8可以為你再額外節約1G左右的顯存你有注意到我們生成的動圖在默認情況下會有種循環播放的感覺嗎?
這個其實是由我們左邊設定的這個閉環模式決定的它有四種模式同樣用一組對比來說明其中除了第一種N所代表的不循環以外其他三種都會帶有一定的循環傾向最後一種A一定會讓動圖的第一幀和最後一幀一致而中間兩種的差異主要在於Prompt Travel的一些處理細節如果要簡單記憶那就是越靠後的選項循環越似同樣根據你的需要選擇
而在設置循環的時候下面的步幅以及重疊都會對動畫效果造成一定的影響不過嘛我做了不少對比分析測試最後發現在作者提供的默認數值上動畫的運動效果往往是最為絲滑流暢的如果你對他們的具體作用感興趣可以查看這裡的資料鏈接裏面有我為你提供的詳細解釋與更多實例在視頻裏就不做敘述了
對了,如果我們想讓這個動畫變得更長又該怎麼操作?定義視頻長度的就是這個幀數與幀率視頻實際生成的秒數就等於你的幀數除以幀率如果我們維持默認的幀率8不變想把視頻延長到5秒就將總幀數增加到40就可以了在這個幀率下你可能會覺得它有點卡卡的因為這個幀率比起我們平時在網上看到的一些視頻的幀率大概每秒24、30幀的水平要低上不少不過我也不推薦你在這裡直接提高幀率因為設置的過高不僅會加重你的顯卡繪製負擔還會增加閃爍的概率
這時,擴展的開發者為我們提供了一條非常取巧的路徑就是在默認的低幀率下進行繪製以後利用一個叫做FILM的AI模型進行插幀也就是往這些幀裏面填充近似的過渡內容來讓視頻和動畫變得更加平滑、流暢這是一種在視頻後期裏非常普遍的處理方式而我們一開始安裝的Diffone擴展裏就提供了這個選項在開啟了以後你只需要通過旁邊這個X值來控制插幀的倍數它會基於同樣的幀數在每兩幀間插入X幀
讓你的視頻變慢X倍一個很好理解的計算方式是如果你想維持一開始的基於幀數和幀率計算出來的時間不變但讓你的視頻更絲滑就設置一個大約3到5倍的X值然後把上面的幀率乘以X倍看 通過把X設置為3幀率上調到24同樣時長的動畫是不是就變得比原來流暢自然多了?插幀也需要額外花時間但無論如何比起直接繪製更多的幀都是更節約時間的試試看吧用了一次你就會喜歡上這種絲滑的感覺的
正如同Animative在AI動畫領域帶來的革新一樣ROG這次推出的HuanAir系列也樹立起了高性能輕薄本的新標杆很多人的印象裏ROG是一個知名的高端電競品牌但它們同樣是AI時代的PC主力軍AI創作者對生產力的需求是在隨著時代進步不斷更新的以我手裏的這台Huan16 Air為例它搭載的英特爾酷睿Ultra 9185H處理器以及GeForce Arctic 4070筆記本電腦GPU就可以為AI機器創作提供強大的動力來源對於StableDiffusion的玩家而言4070筆記本先看來強大算力可以支持你在本地快速輕鬆的生活
高分辨率圖片而本期視頻里介紹的視頻生成類任務對它而言也自然不在話下經過實際測試在WebUI上驅動Animative只要一分鐘的時間就可以完成一個16幀標準分辨率視頻的生成強大的三風扇加液態金屬導熱系統更是可以讓硬體在高負荷工作下保持最佳狀態不過嘛比起它的性能更讓我驚訝的地方在於它的輕薄
大家會覺得筆記本的性能是和體積還有重量成正比的但換Air採用的全鋁CNC一體成型機身同時兼顧了便攜性與機身剛性還增大了內部空間來塞進更多驅動AI工作的裝備高分高帥的星雲屏和超高顏值的外觀更是可以讓你以最優雅的姿態投入創作並欣賞生成出來的作品除了AI以外它還可以在視頻剪輯、3D渲染、乃至3A大作等方面為我們提高多達2倍以上的效率並以更長的電視續航時間為廣大遊戲玩家和創意工作者提供更加出色的性能體驗
有了這樣一台強大的設備我們為什麼不來試試Animative的更多有趣玩法呢?除了用提示詞我們還可以從一張圖片生成一段動畫或者再說簡單點讓一張圖片動起來我們轉移到圖生圖的操作區域將一張你喜歡的圖片導入進重繪區域隨後像剛才一樣設置各項繪製參數與Animative裡的參數為了確保動畫風格和原圖一致你必須選擇一個風格相近的大模型同時繪製的重繪幅度不能太低一般推薦在默認值以上
另外,你可以選擇在提示詞裡適當描述一些你的畫面特徵尤其是那些涉及到運動和變化的點擊生成,它就會把你的圖片動畫化了一般來說,你可以先在文生圖裡繪製你想要的圖片再把它發送到圖生圖裡進行這個流程但這張圖片也可以不是AI化的順帶一提,Animative可以生成的也不僅僅是插畫風格的圖片真實照片風格的也可以但在目前版本,這種圖生動畫的操作面臨著一個問題生成的動畫和原圖不太像
因為我們導熱的圖片會經過一次SD的圖生圖再到Animative製作動畫同時這個動畫越到後面也會越容易變得不像原圖因為Animative會隨著時間推移一項圖片添加噪聲來促成運動那怎麼控制讓它更像呢?降低重回幅度?不太行根據我的實驗在它低於0.6的時候會出現類似這樣的雪花點影響觀感
但下方在文生圖里Animative多出了兩個選項是Latent Power和Latent Scale它們就是用來協助我們控制動畫基於圓圖變化的幅度的如果只要怎麼做的話那就是Power越小 Scale越大那這個動畫基於圓圖片演化的幅度就會越小反之就越大因為它對圖像的影響和時間相關且是指數性的因而調整的幅度要相對謹慎如果你想讓動畫表現和圓圖更像可以嘗試將重回幅度降低到0.6-0.7
power降低到0.8-0.9scale數值提高到48-64並設置一個不超過16的總幀數靠剛剛提到的film插幀來延長動畫長度但注意這些做法都會讓動畫的幅度受到一些限制就是好像沒怎麼動一樣當然如果你並不是特別關心動圖和原圖像不像可以純粹把圖生圖的原圖作為一張參考
同樣我在資料鏈接裡附上了一些關於這些參數的更詳細的解析觀感興趣的你探索更多你或許也已經注意到了我們不光可以上傳圖片給Animative還可以上傳視頻沒錯在擴展的參數區域下方有一個上傳視頻源的選項可以幫助我們用一個視頻來指導Animative生成動畫或者再說簡單點把這個視頻變成動畫
我會推薦你在文聲圖的過程中去運用它下面是一個有趣的操作流程示範在你往裡面拖進一個視頻以後視頻的幀數與幀率會自動和視頻的規格同步所以如果你的視頻比較長我會建議你先在一些剪輯軟件裡面把它截短一點並且手動降低一下幀率然後在提示詞裡輸入關於視頻內容的描述並且同樣設置包括模型在內的各種參數比較有趣的一個小技巧是你可以在提示詞裡加入Lora它會把你的Lora包含的人物或畫風
也給加進動圖裡而在對視頻積極重會的過程中一般我們都會搭配著開啟ControlNet來進一步控制視頻中的角色人物形象或姿勢動作在這裡你只需要像往常畫單張圖一樣把ControlNet點開然後再設置合適的控制類型通過這樣一套組合拳我們就成功把
把這個視頻變成了一個動畫了這和我們以前所做的視頻《竹針重會》有點像但Animative的特性會讓生成的動畫更加連貫基本杜絕的閃爍感所以利用Animative去做《竹針重會》也成為了現在的一種主流趨勢當然如果你想要重會出來的畫面更忠於原著則可以考慮將視頻導致為真序列在圖成圖批量處理中進行生成具體的思路和之前一期視頻裡介紹的一致我放了連結感興趣可以去看看
只需要在生成時提供Animative其他操作完全一樣但在Web UI裡對視頻做拆針處理確實麻煩了一點所以我會更推薦使用Config UI裡的一些工作流來進行轉彎生成但這還不是Animative擴展最有趣的地方目前市面上流傳的非常廣的一類基於Animative的視頻創作
是像這樣不斷變換、演化、生成不同形象的視頻它是怎麼做到的?這些全都歸功於Animative裡的一個神級功能——Prompt Travel它玩起來其實非常簡單以一個實際的例子來說明在文身圖裡這組提示詞可以為我們生成一個半生人像然後我們就可以去基於它繪製動圖剛才也提到了這個動圖的主要繪製內容還是由你輸入在上面的提示詞來決定的但如果你的視頻足夠長
你可以通過特定的語法結構控制它在特定的幀數內以一組提示詞規劃幀數到達一定數字以後自動切換到另一組提示詞上現在我們在提示詞的最下方換一行先輸入一個0冒號closed eyes然後再回車換一行輸入一個8冒號open eyes這組描述代表我們會在第0幀起將closed eyes
添加到上面这一串提示词里面而从第八针起会把Closed Eyes替换成Open Eyes再进行接下来的生成看我们就通过它实现了人物从睁眼到闭眼的动作全流程啦在创作各种动图时你就可以用类似的手法来改变画面里的小细节从而让你的动图更加生动但因为AI生成具有比较高的随机性有时候你的提示词它可能没有那么能听得进去如果效果不佳你可以试着改变种子多生成几遍
而只要你的總幀數足夠長這個Travel也可以變得更長且更加豐富多樣你可以體驗一下這一套我為你寫好的提示詞一共有四段變化將它粘貼到你的提示詞框裡以後總幀數設置為60重疊修改為2點擊生成你就會看到一個一年四季的完整語化變化過程了是不是還挺神奇的
在生成動圖時除了最主要的動畫模塊以外還有一些其他的小組件是你可以在生成的過程中搭配使用的這些組件目前階段主要包括以下兩個方面第一個是Motion Laura 運動Laura指的是Animative的開發者們額外訓練了一系列可以輔助控制鏡頭運動軌跡的Laura模型你不用為這種功能是以Laura的形式出現而感到訝異如果你有關注我們之前更新的模型訓練員類部分內容
就會知道Lora本質上是一種部分的改變主模型權重的附加網路那自然也可以用於改善運動模型的功能你可以在前面提到的模型頁面下載作者練製的這些Motion Lora一共有8個對應不同方向的移動以及旋轉縮放使用的時候只需要像他們其他Lora一樣加進提示詞就可以了權重大小不會影響運動的程度我們就可以通過這樣的方式操控這個動圖的鏡頭運動了
但有三點是你使用的時候需要注意的首先,如果你想塑造鏡頭的位移變化那最好是將循環模式切換為第一個無循環不然在循環下運動一圈又會回到原點等於動了個寂寞其次,這些Laura是基於V2模型訓練的所以理論上也只能搭配V2的運動模型使用再其次,同樣是由於訓練素材的原因在使用這些模型Laura的時候畫面有時會出現非常明顯的素材水印
但和主要的运动模型在不断迭代一样开发者们说不定也正在着手优化这些模型Lora的体验了另外在V3版本模型更新的时候作者一同更新了一个叫Domain Adapter浴室配器的Lora这是一个在视频的静态真相训练的模块作用在于让生成专注运动部分的建模简单说就是能让运动更加自然也可以消除一些注入水印之类的负面特性它只能和V3模型搭配使用
根據我的測試高權重下它的畫面運動會更加穩定但會略微降低一些運動的多樣性如果你在用V3多數時候我都會建議你加上並根據你想要的效果磨損出一個合適的權重還有很多這個擴展的奇妙玩法是我們這一期視頻沒法介紹完的例如它也支持利用XL模型生成只需要下載由其他社區貢獻者們訓練的這兩個運動模塊
就可以和你喜欢的XM模型一起生成精度更高的动画了同时如果你的设备算力不是特别充足也可以考虑将它和LCM采样器等手范搭配使用在更短的步数内生成一个视频再比如在config UI里你可以接触更多功能强大的节点将Control Net、IP Adapter甚至其他各种神器的组件穿连进来实现一个更复杂的视频生成工作流在config UI里使用Animative生成视频的速度其实会更快在进行转会一类的操作时也会更为便捷、直观因为片幅原因我们在这期视频里并不会展开剧续数
但如果你對這些內容感興趣就在下面敲一個二然後期待一期進階的內容吧以上就是本集教程的所有內容啦再次感謝ROG HuanAir系列筆記本對本期視頻製作的大力支持如果你是一位有強生產力需求但又需要筆記本帶來的一部分便攜性能的創意工作者ROG的HuanAir系列筆記本就會是一個非常值得信賴的選擇如果這期視頻對你有幫助請別忘了一鍵三連支持鼓勵一下或者把它發給你身邊對AI創作視頻動畫感興趣的小夥伴這也是南裡感謝你看到最後我們下期見囉 拜拜