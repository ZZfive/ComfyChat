This comes straight from [Fooocus](https://github.com/lllyasviel/Fooocus)/modules. I only exchanged the TAESD previewer with the standard one in `core.py`.

